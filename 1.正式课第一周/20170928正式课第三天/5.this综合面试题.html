<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
//        var num =3;
//        var obj = {
//            num : 2,
//            fn : (function () {
//                this.num *= 2;// window
//                num +=3;
//                var num =1;
//                return function () {
//                    num +=3;
//                    this.num +=2
//                    console.log(++num)
//                }
//            })()
//        };
//        var f= obj.fn;
//        f();//5
//        obj.fn();//9
//        console.log(window.num,obj.num)//8 4

    var num = 1; // 3  5
    var obj = {num: 2};// 4
    obj.fn = (function (num) { // 1 0 -1 0
        this.num += 2; //
        num--;
        return function (n) { //1    2
            this.num += 2;
            num--;
            console.log(n + ++num);
        }
    })(this.num);// 1
    var fn = obj.fn;
    fn(1); // 1
    obj.fn(2);  //  2
    console.log(num, obj.num); //  5 4



</script>
</body>
</html>